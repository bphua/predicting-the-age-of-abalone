---
title: 'Group Project: T09; DS6'
author: '450132759, 450237777'
date: "October 5, 2018"
output: 
  prettydoc::html_pretty:
    theme: cayman # prettydoc theme
    highlight: null # syntax highlighting
---
<!-- Please run install.packages("prettydoc") and library(prettydoc) before knitting -->
<style>
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono');
@import url('https://fonts.googleapis.com/css?family=Lato');
body{
  font-family: 'Lato' !important;
  font-size: 12pt;
}

code{
  font-family: 'Roboto Mono' !important;
  font-size: 12px;
}

pre{
  font-family: 'Roboto Mono' !important;
  font-size: 12px
}

td{
  font-family: Lato !important;
  font-size: 12pt;
}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE, fig.align = "center")
```

## Abstract
<!-- A one paragraph summary of what you set out to learn, and what you ended up finding. It should summarise the entire report. -->


## Introduction
<!-- A discussion of what questions you are trying to answer. -->


## Data Set
<!-- Describe details about how the data set was collected (if known) and the variables in the data set. -->

### Importing Data

```{r import}
library(tidyverse)
library(gridExtra)
data = read.table("https://archive.ics.uci.edu/ml/machine-learning-databases/abalone/abalone.data", sep = ",")
```

### Cleaning 
```{r}
library(reshape)
new_names <- c("Sex", "Length", "Diameter", "Height", "Whole weight", "Shucked weight", "Viscera weight", "Shell weight", "Rings")

colnames(data) <- new_names

# Lenghts, Diameter, Height in mm
# Weight in grams

# check for outliers
melt(data) %>%
  ggplot(aes(x = variable, y = value)) +
  geom_boxplot() + facet_wrap(~ variable, scales = "free") 

# looks like a signifant outlier in height that we may want to remove. 

```


## Analysis
<!-- Describe how you used multiple regression to analyse the data set. Specifically, you should discuss how you carried out the steps in analysis discussed in class, i.e., exploration of data to find an initial reasonable model, checking the model and changes to the model based on your checking of the model. -->
```{r}
# basic testing - to get a feel for things - not necessarily for preso or report
library(GGally)
# ggpairs(data)   # function takes a long time to execute.

# how many of each sex, m/f/infant
data %>%
  group_by(Sex) %>%
  summarize(n = n())

# Males
data_male <- data %>%
  filter(Sex == "M") %>%
  select(-Sex)

# Full model Males
M_full_male <- lm(Rings ~ ., data = data_male)
round(summary(M_full_male)$coef, 5)
t(round(broom::glance(M_full_male), 2))
# ggpairs(data_male)  # takes long time to execute

# Females:
data_female <- data %>%
  filter(Sex == "F") %>%
  select(-Sex)

# Full model females
M_full_female <- lm(Rings ~ ., data = data_female)
round(summary(M_full_female)$coef, 5)
t(round(broom::glance(M_full_female), 2))

# Infants:
data_infant <- data %>%
  filter(Sex == "I") %>%
  select(-Sex)

# Full model infants
M_full_infant <- lm(Rings ~ ., data = data_infant)
round(summary(M_full_infant)$coef, 5)
t(round(broom::glance(M_full_infant), 2))


```

## Results
<!-- Provide inferences about the questions of interest. -->


## Discussion and Conclusion
<!-- Describe any limitations of your analysis and how they might be overcome in future research and provide brief conclusions about the results of your study. -->

## References

Warwick J Nash, Tracy L Sellers, Simon R Talbot, Andrew J Cawthorn and Wes B Ford (1994) "The Population Biology of Abalone (_Haliotis_ species) in Tasmania. I. Blacklip Abalone (_H. rubra_) from the North Coast and Islands of Bass Strait", Sea Fisheries Division, Technical Report No. 48 (ISSN 1034-3288), accessed via URL:
https://archive.ics.uci.edu/ml/datasets/abalone

